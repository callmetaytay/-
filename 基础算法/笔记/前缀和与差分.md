# 前缀和与差分 #

---

## 前缀和 ##

一般从1开始遍历

**一维前缀和**：Si=a1+a2+a3+......+ai（S0默认=0）

**原数组**：a1,a2,a3,a4.......,an

1.Si=S(i-1)+ai

2.用于快速求出数组中一段数据的和（区间和）,例如求[l,r]内的数据的和，S=Sr-S(l-1)

**二维前缀和**：``` S[i][j]=S[i-1][j]+S[i][j-1]-S[i-1][j-1]+a[i][j]``` 

 **区间和**:``` S=S[x2][y2]-S[x2][y1-1]-S[x1-1][y2]+S[x1-1][y1-1]```

*-1的由来*：要将坐标看成是一个格子而不是一个点

## 差分 ##

1.实质是前缀和的<u>逆运算</u>：

对于a1,a2,a3......an,构造b1,b2,b3,.......bn,使得ai=b1+b2+...+bi,即a是b的前缀和

2.bn=an-a(n-1)

3.使用场景：

当我们要将a数组的[l,r]区间内的数都同时加上c，如果只是单纯遍历一遍，那么时间复杂度是O(n)，若运用差分，可将时间复杂度做到O(1)。

求出a的差分b数组，然后让b(l)+c,b(r+1)-c，再重新运算a，即可达到目的

